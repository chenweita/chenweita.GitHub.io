<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
同源策略：
浏览器有一个很重要的概念，同源策略，所谓同源是指，域名，协议，端口相同，不同的客户端脚本在没明确授权的情况下，不能读写对方的资源

举个例子，浏览器不允许在腾讯页面的脚本里访问阿里巴巴的数据资源。会受到同源策略的限制。

域名：
域名是倒着解析的，.com是高级域名，baidu.com是一级域名，zhidao.baidu.com是二级域名，
www是一级域名前缀，表示万维网维护的，www.baidu.com属于特殊的二级域名，zhidao.baidu.com属于百度自己维护的网络地址

com org net属于顶级域名，是在全世界范围内解析的，cn，hk是在一个地区解析的

如cn 中国
.com商业机构
.net从事互联网服务的机构
.org 非营利性组织
.com.cn 国内商业机构
.net.cn 国内互联网机构
.org.cn 国内非营利性组织

dns先通过顶级域名判断网络范围，再根据域名查找主机IP地址

前缀可以不看，理论上www开头相当于占位用的，在国外一般不写www，国内风气就是www

如果把IP地址比作一间房子，端口就是出入这间房子的们，真正的房子只有几个门，但是一个IP
地址的端口可以有
浏览器服务默认的端口号都是80，因此只需要输入网址即可，不用输入：80

举例来说：
http://www.example.com/dir/page.html
协议是http://
域名是 www.example.com
端口是80

那么下面哪些网址跟上面这个网址是同源的呢
http://www.example.com/dir2/page.html
http://example.com/dir/other.html
http://v2.www.example.com/dir/other.html
http://www.example.com:81/dir/other.html
https://www.example.com/dir/page.html

乍一看好像很混乱，但其实只要分成三个部分，问题就迎刃而解了
首先看协议相不相同，如果是不同的话后面就不用看了，肯定不是同源，所以第五个不是，
然后看域名，长得不一样的其实就算是不同的域名了，所以第二个第三个不同源，
最后看端口，端口一般默认为80，如果写出来了，跟原来网址一比较，就知道第四个不同源
最后排除所有错误答案，第二个是同源


那这个请求数据的过程是怎么样的呢？
1.浏览器通过DNS域名解析到服务IP
2.客户端通过TCP协议，建立到服务器的TCP连接（三次握手）
3.客户端向WEB服务器端发送HTTP协议包，请求服务器里的资源档案
4.服务器向客户端发送HTTP协议应答包
5.客户端和服务器断开，客户端开始解释处理HTML文档





交互数据，属于HTTP协议范围
    

TCP/UDP（传输层协议）
面向连接的TCP是基于连接点的协议，也就是说，在正式收发数据前，必须跟对方建立可靠的连接，一个TCP连接必须要经过三次对话才能建立起来，其中的过程非常复杂。

面向非连接的UPP协议：
面向非连接就是在正式通信前不必与对方建立连接，不管对方状态如何，就直接发送，与手机短信非常相似：你再发短信的时候，只需要输入对方的手机号。


三次握手：
1.先客户端发送连接，请求报文。
2.服务器端接受连接后恢复ACK报文，并为这次连接分配资源。
3.客户端接受到ACK报文后也向服务端发送ACK报文，并分配资源



四次挥手：
1.客户端发起中断请求，就是发送FIN报文，服务器端接到FIN报文（客户端数据发送完毕，如果服务器端有数据要发送，不关闭连接，可继续发送数据）
2.服务端发送ACK（告诉客户端，请求已收到，但数据未准备好，请继续等待）
3.当服务端确定数据以发送完成，则向客户端发送FIN报文（告诉客户端，数据发送完毕，可关闭连接）
4.客户端收到FIN报文年后，但发送ACK后机内TIME_WAIT状态，
TCP连接断开。11111111111111111111111


应用层协议：HTTP，HTTPS
超文本传输协议，是互联网上应用最广泛的一种网络协议。
HTTPS是以安全为目标的http的通道，简单讲就是http的安全版
多了一个ssl层，加了一些安全信息
TCP是为了建立客户端与服务器端的连接，这个协议是为了让两者沟通。


http（请求报文，响应报文）通过报文进行沟通
请求报文：
请求头:http://xxx.com/http.header1111111111
请求行：请求方法：GET POST DELETE HEAD TRACE OPTION 
请求资源URL，请求协议版本（http/1.1）
与1.0的区别在于：如果请求十张图片，不需要建立10次连接，一次就可以把所有数据拿到
请求主体:表单提交数据如：name=a&age=18;
响应报文：
响应头：
响应行：
响应协议版本号（http/1.1）
响应状态码：200
响应状态文字：OK
响应主体：'sign syccess'（注册成功）

状态码
1xx:信息      接到请求继续处理
2xx：成功      成功的收到，理解，接受
3xx：重定向      为了完成请求需要进行一些措施（如直接重
4xx
5xx



200服务器成功返回内容
301/302临时/永久重定向
304 资源未被修改过
没有更新，会把图片的id返回，如果有，会把新图片返回
失败状态码：
404 请求内容不存在

response header：
Content-Type:img/png 资源类型
Last-Modified：上次修改时间
Content-Length:允许长度
黑客向服务器传送很多数据，多次服务器容易崩溃，所以要限制
服务器认为如果每次传递的数据过大，不太安全，很容易崩溃，考虑到安全性，给值限制
框有限制，会导致数据传输不全

截图2.00前

Etag：唯一的ID标识
缓存后：放在请求报文的请求头中去，发送给服务器，拿到值后上服务器里找资源，看有无发生改变
If-None-Match：跟Etag一样
在谷歌里访问百度，200(from memory cache)内存
这是浏览器设置的，IE没有
disk cache 缓存到磁盘中
referer  统计浏览量











</body>
</html>